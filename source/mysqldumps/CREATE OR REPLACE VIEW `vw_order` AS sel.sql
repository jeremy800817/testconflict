CREATE OR REPLACE VIEW `vw_order` AS select `order`.`ord_id` AS `ord_id`,`order`.`ord_partnerid` AS `ord_partnerid`,`order`.`ord_buyerid` AS `ord_buyerid`,
`order`.`ord_partnerrefid` AS `ord_partnerrefid`,`order`.`ord_orderno` AS `ord_orderno`,`order`.`ord_pricestreamid` AS `ord_pricestreamid`,`order`.`ord_salespersonid` AS `ord_salespersonid`,`order`.`ord_apiversion` AS `ord_apiversion`,`order`.`ord_type` AS `ord_type`,
`order`.`ord_productid` AS `ord_productid`,`order`.`ord_isspot` AS `ord_isspot`,`order`.`ord_price` AS `ord_price`,`order`.`ord_byweight` AS `ord_byweight`,`order`.`ord_xau` AS `ord_xau`,`order`.`ord_amount` AS `ord_amount`,
`order`.`ord_fee` AS `ord_fee`,
`order`.`ord_discountprice` AS `ord_discountprice`,
`order`.`ord_discountinfo` AS `ord_discountinfo`,
`order`.`ord_remarks` AS `ord_remarks`,`order`.`ord_bookingon` AS `ord_bookingon`,`order`.`ord_bookingprice` AS `ord_bookingprice`,
`order`.`ord_bookingpricestreamid` AS `ord_bookingpricestreamid`,`order`.`ord_confirmon` AS `ord_confirmon`,`order`.`ord_confirmby` AS `ord_confirmby`,`order`.`ord_confirmpricestreamid` AS `ord_confirmpricestreamid`,
`order`.`ord_confirmprice` AS `ord_confirmprice`,`order`.`ord_confirmreference` AS `ord_confirmreference`,`order`.`ord_cancelon` AS `ord_cancelon`,`order`.`ord_cancelby` AS `ord_cancelby`,`order`.`ord_cancelpricestreamid` AS `ord_cancelpricestreamid`,`order`.`ord_cancelprice` AS `ord_cancelprice`,`order`.`ord_notifyurl` AS `ord_notifyurl`,`order`.`ord_reconciled` AS `ord_reconciled`,`order`.`ord_reconciledon` AS `ord_reconciledon`,`order`.`ord_reconciledby` AS `ord_reconciledby`,`order`.`ord_reconciledsaprefno` AS `ord_reconciledsaprefno`,`order`.`ord_createdon` AS `ord_createdon`,`order`.`ord_createdby` AS `ord_createdby`,`order`.`ord_modifiedon` AS `ord_modifiedon`,`order`.`ord_modifiedby` AS `ord_modifiedby`,`order`.`ord_status` AS `ord_status`,`partner`.`par_name` AS `ord_partnername`,`partner`.`par_code` AS `ord_partnercode`,`buyerid`.`usr_name` AS `ord_buyername`,`salespersonid`.`usr_name` AS `ord_salespersonname`,`product`.`pdt_name` AS `ord_productname`,`product`.`pdt_code` AS `ord_productcode`,
`confirmby`.`usr_name` AS `ord_confirmbyname`,`cancelby`.`usr_name` AS `ord_cancelbyname`,`reconciledby`.`usr_name` AS `ord_reconciledbyname`,`createdby`.`usr_name` AS `ord_createdbyname`,`modifiedby`.`usr_name` AS `ord_modifiedbyname`,`pricevalidation`.`pva_uuid` AS `ord_uuid`,(case `order`.`ord_status` when 0 then 'Pending' when 1 then 'Confirmed' when 2 then 'Pending Payment' when 3 then 'Pending Cancel' when 4 then 'Cancelled' when 5 then 'Completed' end) AS `ord_statusname`,(case when (`partner`.`par_corepartner` = 1) then (`order`.`ord_price` + `order`.`ord_fee`) else `order`.`ord_price` end) AS `ord_fpprice`,(case when (`order`.`ord_type` = 'CompanyBuy') then 'Refinery Fee' when (`order`.`ord_type` = 'CompanySell') then 'Premium Fee' else 'NIL' end) AS `ord_feetypename` from ((((((((((`order` left join `pricevalidation` on((`pricevalidation`.`pva_orderid` = `order`.`ord_id`))) left join `partner` on((`partner`.`par_id` = `order`.`ord_partnerid`))) left join `user` `buyerid` on((`buyerid`.`usr_id` = `order`.`ord_buyerid`))) left join `user` `salespersonid` on((`salespersonid`.`usr_id` = `order`.`ord_salespersonid`))) left join `product` on((`product`.`pdt_id` = `order`.`ord_productid`))) left join `user` `confirmby` on((`confirmby`.`usr_id` = `order`.`ord_confirmby`))) left join `user` `cancelby` on((`cancelby`.`usr_id` = `order`.`ord_cancelby`))) left join `user` `reconciledby` on((`reconciledby`.`usr_id` = `order`.`ord_reconciledby`))) left join `user` `createdby` on((`createdby`.`usr_id` = `order`.`ord_createdby`))) left join `user` `modifiedby` on((`modifiedby`.`usr_id` = `order`.`ord_modifiedby`)))